(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{278:function(s,e,t){s.exports=t.p+"assets/img/img1.c766d604.png"},279:function(s,e,t){s.exports=t.p+"assets/img/img2.8913029b.png"},280:function(s,e,t){s.exports=t.p+"assets/img/img3.fd7a8739.png"},281:function(s,e,t){s.exports=t.p+"assets/img/img4.4fc6a0fa.png"},282:function(s,e,t){s.exports=t.p+"assets/img/img5.8eeacd43.png"},283:function(s,e,t){s.exports=t.p+"assets/img/img6.9aec1ca6.png"},284:function(s,e,t){s.exports=t.p+"assets/img/img7.99af5cf6.png"},285:function(s,e,t){s.exports=t.p+"assets/img/img8.2e9d2bcf.png"},286:function(s,e,t){s.exports=t.p+"assets/img/img9.393f920f.png"},346:function(s,e,t){"use strict";t.r(e);var n=t(14),v=Object(n.a)({},(function(){var s=this,e=s._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("p",[s._v("本章内容分解：")]),s._v(" "),e("ul",[e("li",[s._v("寻找渲染线程文件")]),s._v(" "),e("li",[s._v("webview容器设计")]),s._v(" "),e("li",[s._v("渲染层文件解析")])]),s._v(" "),e("ol",[e("li",[s._v("进入调试微信开发者工具模式，可以发现默认页面会有4个webview：\n"),e("code",[s._v("视图层的webview")]),s._v("，"),e("code",[s._v("业务逻辑层webview")]),s._v("，"),e("code",[s._v("调试器的webview")]),s._v("和"),e("code",[s._v("编辑区的webview")])])]),s._v(" "),e("p",[e("img",{attrs:{src:t(278)}})]),s._v(" "),e("p",[e("img",{attrs:{src:t(279)}})]),s._v("\n上方webview层src路径为pageframe/pages/index/index 是渲染层视图，渲染的就是我们进来时候开到的初始页面。 \n下方webview层src路径为appservice/appservice?*** 是逻辑层视图。微信开发者工具模拟了在移动端的双线程结构。\n每个webview可以理解为在移动端跑的一条线程\n"),e("p",[s._v("从上方我们自己寻找webview代码节点可以知道第一个就是page/index/index路径相对应的webview。\n通过showdevTools方法来打开调试此webview界面的调试器。命令如下：")]),s._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[s._v("document"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("getElementsByTagName")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'webview'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("showDevTools")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),e("p",[e("img",{attrs:{src:t(280)}})]),s._v("\n打开此为 小程序渲染层， 从head区域开始分析，从上到下：\n"),e("p",[s._v("第一个style标签中包含了一些基础style标签。展开的部分截图如下：")]),s._v(" "),e("p",[e("img",{attrs:{src:t(281)}})]),s._v(" "),e("p",[s._v("第一个style标签处理了webview层的基础组件的样式初始化。这里没有"),e("code",[s._v("rpx")]),s._v("，这里就是单纯的"),e("code",[s._v("css")]),s._v("，css选择器，css的px")]),s._v(" "),e("p",[s._v("再往下面这个区域，首先可以看到几个全局变量，从英文名称上就可以知道意思：\n")]),e("p",[e("img",{attrs:{src:t(282)}})]),e("p"),s._v(" "),e("ul",[e("li",[s._v("webviewId: 从这个id又可以再次印证webview层不止一个。")]),s._v(" "),e("li",[s._v("wxAppCode: 整个页面的json wxss wxml编译之后都存储在这里，下面有个script标签就是它，下面会讲到。")]),s._v(" "),e("li",[s._v("Vd_version_info: 版本信息")])]),s._v(" "),e("blockquote",[e("p",[s._v("后面的js文件如果想看的话，把鼠标放在路径上邮件"),e("code",[s._v("open in new tap")]),s._v("即可")])]),s._v(" "),e("p",[e("img",{attrs:{src:t(283)}})]),s._v(" "),e("p",[e("code",[s._v("./dev/wxconfig.js")]),s._v("是小程序默认总配置项，包括用户自定义与系统默认的整合结果。在控制台输入__wxConfig可以看出打印结果\n")]),e("p",[e("img",{attrs:{src:t(284)}})]),e("p"),s._v(" "),e("p",[e("code",[s._v("./dev/devtoolsconfig.js")]),s._v("小程序开发者配置，包括navigationBarHeight,标题栏的高度，状态栏高度，等等，控制台输入__devtoolsConfig可以看到其对应的信息\n")]),e("p",[e("img",{attrs:{src:t(285)}})]),e("p"),s._v(" "),e("p",[e("code",[s._v("./dev/deviceinfo.js")]),s._v(" 设备信息，包含尺寸/像素点pixelRatio\n")]),e("p",[e("img",{attrs:{src:t(286)}})]),e("p"),s._v(" "),e("p",[e("code",[s._v("./dev/jsdebug.js")]),s._v(" debug工具。")]),s._v(" "),e("p",[e("code",[s._v("./dev/WAWebview.js")]),s._v(" 渲染层底层基础库，底层基础库后面会重点讲到。")]),s._v(" "),e("p",[e("code",[s._v("./dev/hls.js")]),s._v(" 优秀的视频流处理工具。")]),s._v(" "),e("p",[e("code",[s._v("./dev/WARemoteDebug.js")]),s._v(" 底层基础库调试工具")]),s._v(" "),e("p",[e("code",[s._v("WARemoteDebug Script")]),s._v("标签下面的script标签内容，展开后非常的长。这里呢也是渲染层的重中之重，这里呢就是后面要讲到的渲染层-编译virtualDOM章节以及渲染层-WXSS动态适配章节。")])])}),[],!1,null,null,null);e.default=v.exports}}]);