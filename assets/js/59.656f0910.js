(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{349:function(t,e,r){"use strict";r.r(e);var a=r(14),s=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h3",{attrs:{id:"hash-模式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#hash-模式"}},[t._v("#")]),t._v(" hash 模式")]),t._v(" "),e("p",[t._v("使用"),e("code",[t._v("onhashchange")]),t._v("监听路由的改变，但是需要路由必须加上"),e("code",[t._v("#")]),t._v("，也就是监听"),e("code",[t._v("#后面的URL部分，包括#号")]),t._v("。注意 history.pushState()绝对不会触发hashchange事件。")]),t._v(" "),e("h3",{attrs:{id:"history-模式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#history-模式"}},[t._v("#")]),t._v(" history 模式")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("pushState()：需要三个参数：一个状态对象，一个标题（目前被忽略）和一个url")]),t._v(" "),e("ul",[e("li",[t._v("state: 状态对象state是一个js对象，popstate事件触发时，该对象会传入回调函数")]),t._v(" "),e("li",[t._v("title: 目前所有浏览器忽略")]),t._v(" "),e("li",[t._v("url: 新的url记录")])])]),t._v(" "),e("li",[e("p",[t._v("replaceState(): history.replaceState()的使用与history.pushState()非常相似，区别在于replaceState()是修改了当前的历史记录项而不是新建一个。")])]),t._v(" "),e("li",[e("p",[t._v("onpopstate: 调用history.pushState()或者history.replaceState()不会触发popstate事件. popstate事件只会在浏览器某些行为下触发, 比如点击后退、前进按钮(或者在JavaScript中调用history.back()、history.forward()、history.go()方法)。")])])]),t._v(" "),e("h1",{attrs:{id:"源码解析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#源码解析"}},[t._v("#")]),t._v(" 源码解析")]),t._v(" "),e("h2",{attrs:{id:"install"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#install"}},[t._v("#")]),t._v(" install")]),t._v(" "),e("p",[t._v("install文件中，劫持了"),e("code",[t._v("$route、$router")]),t._v("的getter，当访问时，返回实例上的 "),e("code",[t._v("route和router")])]),t._v(" "),e("p",[t._v("并且在Vue的实例上初始化了一些私有属性")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("_routerRoot, 指向了Vue的实例")])]),t._v(" "),e("li",[e("p",[t._v("_router, 指向了VueRouter的实例\n在Vue的prototype上初始化了一些getter")])]),t._v(" "),e("li",[e("p",[t._v("$router, 当前Router的实例")])]),t._v(" "),e("li",[e("p",[t._v("$route, 当前Router的信息")])])]),t._v(" "),e("p",[t._v("并且在全局混入了mixin, 已经全局注册了"),e("code",[t._v("RouterView")]),t._v(", "),e("code",[t._v("RouterLink")]),t._v("组件.")])])}),[],!1,null,null,null);e.default=s.exports}}]);